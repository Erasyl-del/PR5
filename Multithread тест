public class LoggerDemo {
    public static void main(String[] args) {

        Logger logger = Logger.getInstance();
        logger.loadConfig("logger.conf");

        Runnable task = () -> {
            Logger log = Logger.getInstance();

            log.log("Info message", LogLevel.INFO);
            log.log("Warning message", LogLevel.WARNING);
            log.log("Error message", LogLevel.ERROR);

            System.out.println("Logger hash: " + log.hashCode());
        };

        for (int i = 0; i < 5; i++) {
            new Thread(task).start();
        }

        // read errors only
        try { Thread.sleep(1000); } catch (Exception ignored) {}

        System.out.println("\n=== ONLY ERRORS ===");
        LogReader.read(logger.getLogFilePath(), LogLevel.ERROR);
    }
}
